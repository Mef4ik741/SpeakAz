# üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å–æ –∑–≤—É–∫–æ–º –≤—ã—Ö–æ–¥–∞

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–ó–≤—É–∫ –Ω–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –∫–æ–º–Ω–∞—Ç—ã.

## üîç –®–∞–≥–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### 1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –∫–Ω–æ–ø–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
1. –í–æ–π–¥–∏—Ç–µ –≤ –ª—é–±—É—é –∫–æ–º–Ω–∞—Ç—É
2. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (‚öôÔ∏è)
3. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é "üîä –ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üö™ –¢–µ—Å—Ç –∑–≤—É–∫–∞ –≤—ã—Ö–æ–¥–∞"
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ï—Å–ª–∏ –∑–≤—É–∫ –Ω–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è, –ø—Ä–æ–±–ª–µ–º–∞ –≤ soundUtils

### 2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞**
–û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools (F12) –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –ª–æ–≥–∏ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞:

**–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:**
```
üö™ RoomView: Participant left event received: {userId: "...", ...}
üö™ RoomView: Current participants before removal: [...]
üîä Playing leave sound for participant: "Username"
üîä playLeaveSound() called
üîä playSound() called with key: LEAVE
üîä Audio element found in cache: true
üîä Successfully playing sound: LEAVE
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:**
```
üîä Not playing leave sound - either current user or participant not found
```
–ó–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –≤ –ª–æ–≥–∏–∫–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞.

### 3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫—É –∑–≤—É–∫–æ–≤**
–ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∫–æ–º–Ω–∞—Ç—É –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:
```
üîä Preloading room sounds...
‚úÖ Sound preloaded: JOIN
‚úÖ Sound preloaded: LEAVE
```

### 4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ WebSocket —Å–æ–±—ã—Ç–∏—è**
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ `participant_left`:
```
üö™ RoomView: Participant left event received
```

## üõ†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### **‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
**–°–∏–º–ø—Ç–æ–º—ã**: `currentUserId: undefined` –≤ –ª–æ–≥–∞—Ö
**–ü—Ä–∏—á–∏–Ω–∞**: `user?.id` –∏–∑ AuthContext –º–æ–∂–µ—Ç –±—ã—Ç—å undefined
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `getUserIdFromToken()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è ID –∏–∑ JWT —Ç–æ–∫–µ–Ω–∞

### **‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –£—á–∞—Å—Ç–Ω–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Å–ø–∏—Å–∫–µ**
**–°–∏–º–ø—Ç–æ–º—ã**: `participantFound: false` –≤ –ª–æ–≥–∞—Ö
**–ü—Ä–∏—á–∏–Ω–∞**: –£—á–∞—Å—Ç–Ω–∏–∫ —É–∂–µ —É–¥–∞–ª–µ–Ω –∏–∑ —Å–ø–∏—Å–∫–∞ –∫ –º–æ–º–µ–Ω—Ç—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `message.username` –∫–∞–∫ fallback –µ—Å–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω

### **–ü—Ä–∏—á–∏–Ω–∞ 1: –ó–≤—É–∫ –Ω–µ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω**
**–°–∏–º–ø—Ç–æ–º—ã**: –í –∫–æ–Ω—Å–æ–ª–∏ `Sound not found in cache: LEAVE`
**–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

### **–ü—Ä–∏—á–∏–Ω–∞ 2: –ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ**
**–°–∏–º–ø—Ç–æ–º—ã**: `Failed to play sound LEAVE: NotAllowedError`
**–†–µ—à–µ–Ω–∏–µ**: 
- –†–∞–∑—Ä–µ—à–∏—Ç–µ –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è —Å–∞–π—Ç–∞
- –°–Ω–∞—á–∞–ª–∞ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–π—Ç–µ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–æ–º

### **–ü—Ä–∏—á–∏–Ω–∞ 3: –ó–≤—É–∫–æ–≤–æ–π —Ñ–∞–π–ª –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω**
**–°–∏–º–ø—Ç–æ–º—ã**: `Fallback sound play failed`
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å URL –∑–≤—É–∫–∞

### **–ü—Ä–∏—á–∏–Ω–∞ 4: –õ–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–ª—è —Å–∞–º–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
**–°–∏–º–ø—Ç–æ–º—ã**: –ó–≤—É–∫ –Ω–µ –∏–≥—Ä–∞–µ—Ç –∫–æ–≥–¥–∞ –≤—ã —Å–∞–º–∏ –≤—ã—Ö–æ–¥–∏—Ç–µ
**–†–µ—à–µ–Ω–∏–µ**: –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –ó–≤—É–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω –∏–≥—Ä–∞—Ç—å –¥–ª—è —Å–∞–º–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üß™ –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

### **–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–≤—É–∫–∞ –≤—ã—Ö–æ–¥–∞:**
1. **–û—Ç–∫—Ä–æ–π—Ç–µ –¥–≤–µ –≤–∫–ª–∞–¥–∫–∏** —Å –æ–¥–Ω–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º
2. **–í–æ–π–¥–∏—Ç–µ –≤ –æ–¥–Ω—É –∫–æ–º–Ω–∞—Ç—É** —Å –æ–±–µ–∏—Ö –≤–∫–ª–∞–¥–æ–∫
3. **–ù–∞ –ø–µ—Ä–≤–æ–π –≤–∫–ª–∞–¥–∫–µ** –æ—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12)
4. **–ù–∞ –≤—Ç–æ—Ä–æ–π –≤–∫–ª–∞–¥–∫–µ** –≤—ã–π–¥–∏—Ç–µ –∏–∑ –∫–æ–º–Ω–∞—Ç—ã
5. **–ù–∞ –ø–µ—Ä–≤–æ–π –≤–∫–ª–∞–¥–∫–µ** –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–∏–≥—Ä–∞—Ç—å—Å—è –∑–≤—É–∫ –≤—ã—Ö–æ–¥–∞

### **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç:**
1. **–ü–æ–ø—Ä–æ—Å–∏—Ç–µ –¥—Ä—É–≥–∞** –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∫–æ–º–Ω–∞—Ç–µ
2. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å** –≤ —Å–≤–æ–µ–º –±—Ä–∞—É–∑–µ—Ä–µ
3. **–ü–æ–ø—Ä–æ—Å–∏—Ç–µ –¥—Ä—É–≥–∞ –≤—ã–π—Ç–∏** –∏–∑ –∫–æ–º–Ω–∞—Ç—ã
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ** —á—Ç–æ –∑–≤—É–∫ –ø—Ä–æ–∏–≥—Ä–∞–ª—Å—è

## üìã –ß–µ–∫-–ª–∏—Å—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

- [ ] –ö–Ω–æ–ø–∫–∞ "üö™ –¢–µ—Å—Ç –∑–≤—É–∫–∞ –≤—ã—Ö–æ–¥–∞" —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏ –µ—Å—Ç—å –ª–æ–≥–∏ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏ –∑–≤—É–∫–æ–≤
- [ ] WebSocket —Å–æ–±—ã—Ç–∏—è `participant_left` –ø—Ä–∏—Ö–æ–¥—è—Ç
- [ ] –í –ª–æ–≥–∞—Ö –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- [ ] –¢–µ—Å—Ç–∏—Ä—É–µ—Ç–µ —Å –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–Ω–µ —Å–æ–±–æ–π)
- [ ] –†–∞–∑—Ä–µ—à–µ–Ω–æ –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

## üîß –ë—ã—Å—Ç—Ä—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### **–ï—Å–ª–∏ –∑–≤—É–∫ –≤–æ–æ–±—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
import { playLeaveSound } from './src/utils/soundUtils'
playLeaveSound()
```

### **–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å –∫—ç—à–µ–º:**
```javascript
// –û—á–∏—Å—Ç–∏—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å:
localStorage.clear()
location.reload()
```

### **–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏:**
```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞—É–¥–∏–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
console.log('Audio context state:', window.AudioContext ? new AudioContext().state : 'not supported')
```

## üìû –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ –ª–æ–≥–∏** –∏–∑ –∫–æ–Ω—Å–æ–ª–∏
2. **–£–∫–∞–∂–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä** –∏ –≤–µ—Ä—Å–∏—é
3. **–û–ø–∏—à–∏—Ç–µ —Ç–æ—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π** —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. **–ü—Ä–∏–ª–æ–∂–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç** –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∑–≤—É–∫–∞

---

**–ü–æ–º–Ω–∏—Ç–µ**: –ó–≤—É–∫ –≤—ã—Ö–æ–¥–∞ –Ω–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è –¥–ª—è —Å–∞–º–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ç–æ–ª—å–∫–æ –¥–ª—è –¥—Ä—É–≥–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–æ–º–Ω–∞—Ç—ã!
